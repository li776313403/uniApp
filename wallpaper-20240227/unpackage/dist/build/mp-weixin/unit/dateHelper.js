"use strict";const e=require("./numberHelper.js"),t={parseTime:function(e=null,t){0!==arguments.length&&e||(e=new Date);const r=t||"{y}-{m}-{d} {h}:{i}:{s}";let n;"object"==typeof e?n=e:("string"==typeof e&&/^[0-9]+$/.test(e)?e=parseInt(e,10):"string"==typeof e&&(e=e.replace(/-/gm,"/").replace("T"," ").replace(/\.[\d]{3}/gm,"")),"number"==typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));const l={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()};return r.replace(/{(y|m|d|h|i|s|a)+}/g,((e,t)=>{let r=l[t];return"a"===t?["日","一","二","三","四","五","六"][r]:(e.length>0&&r<10&&(r="0"+r),r||0)}))},callTimes:t=>{const r=(new Date).getTime()-new Date(t).getTime(),n=Math.floor(parseFloat((r/1e3/60/60).toString())),l=Math.floor(parseFloat(((r-36e5*n)/1e3/60).toString())),o=Math.floor(parseFloat((r-36e5*n-6e4*l).toString())/1e3);return`${e.numberHelper.zeroFill(n)}:${e.numberHelper.zeroFill(l)}:${e.numberHelper.zeroFill(o)}`},formatTime:(e,r=null)=>{e=10===String(e).length?1e3*parseInt(e.toString(),10):Number(e);const n=new Date(e),l=(Date.now()-n.getTime())/1e3;if(l<30)return"刚刚";if(l<3600)return Math.ceil(l/60)+"分钟前";if(l<86400)return Math.ceil(l/3600)+"小时前";if(l<172800)return"1天前";if(l<691200)return"1周前";if(l<2764800)return"1月前";if(r){const n=t.parseTime(e,r);return n||""}return n.getMonth()+1+"月"+n.getDate()+"日"+n.getHours()+"时"+n.getMinutes()+"分"}};exports.dateTimeHelper=t;
